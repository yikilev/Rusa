function t396_scaleBlock(e){var t,d,l,a,p=t396_isOnlyScalableBrowser(),u=t396_detectResolution(e),o=document.getElementById("rec"+e);o&&(t=t396_scale__getElementsToScale(o),(o=o.querySelector(".t396__artboard"))&&0!==t.length&&(d=(d=window.tn&&window.tn["ab"+e]&&window.tn["ab"+e].scaleFactor)||window.tn_scale_factor,e=o.clientWidth,a=t396_ab__getFieldValue(o,"height"),a=Math.floor(a*d),l=t396_ab__getFieldValue(o,"height_vh"),window.tn_scale_offset=(e*d-e)/2,l&&(e=t396_ab__getFieldValue(o,"height"),a=(l=t396_ab__getHeight(o))<=(e=e*d)?e:l),t396_scale__updateArtboardState(o,a),t.forEach(function(e){var t,l,a,o,_,r,i,s=e.querySelector(".tn-molecule, .tn-atom"),n=t396_scale__getElementType(e),c=t396_elem__getFieldValue(e,"container");c||"group"!==n||(c="grid"),s&&"grid"===c&&(p?((c=s.closest(".tn-atom__scale-wrapper"))||(t396_scale__wrapElement(s,d,"tn-atom__scale-wrapper"),c=s.closest(".tn-atom__scale-wrapper")),e.style.zoom="",t396_scale__processBackdropFilter(e,s,c),t396_scale__processBackgroundForShape(e,s,n,d)):(c=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),"text"!==n&&"button"!==n||!c||(l=t396_elem__getCorrectStylesForSafari(e,"fontSize"),t=s.style.webkitTextSizeAdjust,s.style.webkitTextSizeAdjust="none",e.style.zoom=d,i=parseFloat(getComputedStyle(s).fontSize),i=Math.round(i),i=Math.abs(l-i),s.style.webkitTextSizeAdjust=t,1<=i&&(s.style.fontSize=l*d+"px",s.style.webkitTextSizeAdjust="none")),"yes"!==e.getAttribute("data-scale-off")&&(e.style.zoom=d),"shape"===n&&(t=t396_elem__getFieldValue(e,"height"),t=t396_elem__getHeight(e,t),t=t396_elem__convertPosition__Local__toAbsolute(e,"height",t),i=t396_elem__getFieldValue(e,"width"),i=t396_elem__getWidth(e,i),i=t396_elem__convertPosition__Local__toAbsolute(e,"width",i),l=parseFloat(t396_elem__getFieldValue(e,"top")),l=t396_elem__convertPosition__Local__toAbsolute(e,"top",l),a=parseFloat(t396_elem__getFieldValue(e,"left")),a=t396_elem__convertPosition__Local__toAbsolute(e,"left",a),o=(_=window.getComputedStyle(s)).borderWidth,_="none"!==_.backgroundImage,r=e.getAttribute("data-animate-sbs-event"),!(t<=2||i<=2)||"0px"!==o||_||r||(e.style.removeProperty("zoom"),o=i*d,_=t*d,r=l*d,i=a*d,e.style.width=parseFloat(o)+"px",e.style.height=parseFloat(_)+"px",e.style.top=Math.round(r)+"px",e.style.left=Math.round(i)+"px",e.setAttribute("data-scale-off","yes"))),"text"===n&&u<1200&&s&&!c&&(s.style.webkitTextSizeAdjust="auto"),s&&(s.style.transformOrigin="center")))})))}function t396_scale__getElementsToScale(e){e=Array.prototype.slice.call(e.querySelectorAll(".t396__elem"));if(!e.length)return[];var t=[];return(e=e.filter(function(e){e=e.closest('.t396__group[data-group-type-value="physical"]');return!e||(-1===t.indexOf(e)&&t.push(e),!1)})).concat(t)}function t396_scale__updateArtboardState(e,t){e.classList.add("t396__artboard_scale");var l=e.getAttribute("data-artboard-recid");e.insertAdjacentHTML("beforeend",'<style class="t396__scale-style">.t-rec#rec'+l+" { overflow: visible; }#rec"+l+" .t396__carrier,#rec"+l+" .t396__filter,#rec"+l+" .t396__artboard {height: "+t+"px !important;width: 100vw !important;max-width: 100%;}</style>")}function t396_scale__wrapElement(e,t,l){var a,o;!e||(a=e.parentNode)&&((o=document.createElement("div")).classList.add(l),o.style.transform="scale("+t+")",o.appendChild(e),a.appendChild(o))}function t396_scale__processBackdropFilter(e,t,l){"none"===e.style.backdropFilter&&(e.style.backdropFilter="");var a=getComputedStyle(e).backdropFilter;a&&(e.style.backdropFilter="none",l.style.backdropFilter=a,"0px"!==(e=getComputedStyle(t).borderRadius)&&(l.style.borderRadius=e))}function t396_scale__processBackgroundForShape(e,t,l,a){var o,_;"shape"===l&&(l=t&&getComputedStyle(t))&&(l&&l.backgroundImage||t.getAttribute("data-original"))&&"fixed"===l.backgroundAttachment&&(e.removeChild(t.parentNode),e.appendChild(t),l=t396_elem__getFieldValue(e,"height"),l=t396_elem__getHeight(e,l),l=t396_elem__convertPosition__Local__toAbsolute(e,"height",l),t=t396_elem__getFieldValue(e,"width"),t=t396_elem__getWidth(e,t),t=t396_elem__convertPosition__Local__toAbsolute(e,"width",t),o=parseFloat(t396_elem__getFieldValue(e,"top")),_=parseFloat(t396_elem__getFieldValue(e,"left")),e.style.top=o*a+"px",e.style.left=_*a+"px",e.style.height=l*a+"px",e.style.width=t*a+"px",e.setAttribute("data-scale-off","yes"))}function t396_scale__getElementType(e){var t=e.getAttribute("data-elem-type");return t=!t&&e.classList.contains("tn-group")?"group":t}window.t396_initialScale||(window.t396_initialScale=function(){});